API: https://client.vpn.nuist.edu.cn/https/webvpn893ff9021738b0357186c0f23fc2aed6e24ca283e886022bc5d861ea12f03963/v1/problem/logic?prefix=P&logicId=1672&enlink-vpn

现代社会以海德格尔的一句“一切实践传统都已经瓦解完了”为嚆矢。滥觞于家庭与社会传统的期望正失去它们的借鉴意义。但面对看似无垠的未来天空，我想循卡尔维诺“树上的男爵”的生活好过过早地振翮。

一棵完美二叉树上有 $n$ 片叶子，每片叶子上标有一个整数。如果一棵二叉树深度为 $k$ 且结点数为 $2^k-1$，那么它称为完美二叉树（满二叉树），每层的结点数都达到了最大值。

作为一个生活在二叉树上的人，你想要在树上做 $m$ 次操作。


操作 $1$ $l$ $r$ $k$：输出第 $l$ 片叶子到第 $r$ 片叶子上所有数分别乘 $2^k$ 的和。

形式化地讲，假如所有叶子按顺序排列为 $a$，第 i 片叶子上的数为 $a_i$，那么操作 1 的答案是 $\sum_{i=l}^{r}{2^ka_i}$

操作 $2$ $l_1$ $r_1$ $l_2$ $r_2$：按顺序一一对应地交换第 $l_1$ 到 $r_1$ 片叶子和第 $l_2$ 到 $r_2$ 片叶子。保证 $r_1 - l_1 = r_2 - l_2$。被交换的叶子的数量是 $2$ 的幂。$r_1$ 和 $r_2$ 是 $2$ 的幂。

例如，对于叶子为 $1$ $2$ $3$ $4$ $5$ $6$ $7$ $8$ 的完美二叉树：

操作 $1$ $1$ $8$ $0$ 输出 $36$。

操作 $2$ $1$ $2$ $7$ $8$ 将序列变为 $7$ $8$ $3$ $4$ $5$ $6$ $1$ $2$。

操作 $1$ $1$ $3$ $32$ 输出 $77309411328$，即 $(2^{32} \times 7)+(2^{32} \times 8)+(2^{32} \times 3)= 30064771072+34359738368+12884901888=77309411328$。

用在二叉树上的生活方式体现个体的超越性，保持婞直却又不拘泥于所谓“遗世独立”的单向度形象。这便是哈罗德·埃布尔森为我们提供的理想期望范式。生活在二叉树上——始终热爱大地——升上天空。

#### 输入描述

第 1 行：两个正整数 $n$ 和 $m$。

第 2 行：$n$ 个整数。总和不超过 $10^8$。

后续 $m$ 行，每行以一个整数开头，表示操作种类。

如果是操作 1，该行后继为三个整数，分别表示 $l$, $r$, $k$。

如果是操作 2，该行后继为四个整数，分别表示 $l_1$, $r_1$, $l_2$, $r_2$。

数据保证：

+ $\forall\,0\le i \le 16,\;n = 2^i$
+ $1\le m \le 10^5$
+ $1\le l \le r \le n$
+ $0\le k \le 32$
+ $1\le l_1\le r_1< l_2 \le r_2 \le n$
+ $\forall\,0\le j \le 16,\;r_1-l_1=r_2-l_2=2^j-1$
+ $\exists\,0\le j_1 \le 16,\;r_1 = 2^{j_1}$
+ $\exists\,0\le j_2 \le 16,\;r_2 = 2^{j_2}$

#### 输出描述

按操作顺序，每行输出一个整数表示操作 1 的答案。

#### 样例输入

```
8 3
1 2 3 4 5 6 7 8
1 1 8 0
2 1 2 7 8
1 1 3 32
```

#### 样例输出

```
36
77309411328
```

<p style="font-size:15px;text-align:right">
<i>-- by Nugine</i>
</p>